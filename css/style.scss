---
# front matter for Jekyll recognition
--- 

@import "tailwindcss/base";
@import "tailwindcss/components";
@import "tailwindcss/utilities";

:root {
    --color-red: #d86047;
    --color-green: #d3df9f;
    --color-yellow: #f9f4d6;
    --color-orange: #e18e75;
    --color-purple: #5c56a1;
  }
  

@font-face {
  font-family: "Certeau-Regular";
  font-style: normal;
  src: url("/assets/fonts/Certeau-Regular.otf") format("opentype");
}
@font-face {
  font-family: "Certeau-Oblique";
  font-style: italic;
  src: local(''), url("/assets/fonts/Certeau-Oblique.otf") format("opentype");
}


@mixin item-nav($child, $bg, $text) {
    &:nth-child(#{$child}){
        span{
            background-color: var(--color-#{$bg})
        }
        a:hover{
            color: var(--color-#{$text});
        }
    }
  }

@mixin masonry-grid($count){
    column-count: $count;
    column-gap: 1rem;
    figure {
        @apply m-0 grid mb-4;
        grid-template-rows: 1fr auto;
        break-inside: avoid;
    }
    figure > img {
        grid-row: 1 / -1;
        grid-column: 1;
    }
}

html{
    @apply h-full;
    scroll-behavior: smooth;
}

  body{
      @apply bg-red h-full;
      font-family: "Certeau-Regular";
    }

    header{
        @apply flex items-center h-14 w-full fixed top-0 z-10 px-4;
        .--container{
            @apply flex justify-between items-center max-w-screen-xl m-auto;
            width: 1280px;
            ul{
                @apply justify-between items-center;
                li{
                    @apply px-1
                }
            }
        }
    }

    main{
        @apply max-w-screen-md m-auto relative px-4 sm:px-0;
    }

    .link-hover,
    .link-hover > svg{
        @apply opacity-100;
        &:hover,
        &:active{
            @apply transition-opacity duration-75 ease-in opacity-80;
        }
    }
  
  .ap-nav{
      @apply w-full fixed bottom-0 text-yellow inset-x-0;
      ul{
        @apply flex w-full justify-between;
        li{
            @apply text-center w-full p-2 relative h-14 lowercase;
            &:hover{
                width: 100rem;
                transition: width ease-out 0.2s;
                span{
                    @apply h-full;
                    transition: height ease-out 0.2s;
                }
            }
            a{
                @apply absolute inset-x-0 bottom-2 top-4;
            }
            span{
                @apply h-2 w-full inset-x-0 absolute bottom-0;
            }
            @include item-nav(1, 'red', 'yellow');
            @include item-nav(2, 'green', 'purple');
            @include item-nav(3, 'yellow', 'orange');
            @include item-nav(4, 'purple', 'green');
            @include item-nav(5, 'yellow', 'purple');
        }
      }
  }

  .page{
      @apply h-screen mb-40;
  }

  .ap-logo{
      @apply h-7 sm:h-5 opacity-100 transition-opacity duration-75 ease-in-out;
      span, div{
          @apply inline-block align-middle;
      }
      .--dash{
        @apply relative inline-block align-middle w-4 h-8;
        transition: all .2s ease-in-out;
          &:before{
            @apply absolute inline-block w-full h-0.5 left-0;
            content: '';
            bottom: 0.9rem;
          }
        }
    .--dash.active, 
    .--dash.level1{
        @apply w-16;
    }
    .--dash.active + span,
    .--dash.level1 + span{
        @apply px-1;
    }
    .--dash.active + span + .--dash{
        @apply w-24;
    }
    .--dash.level2, 
    .--dash.level3 {
        @apply w-8;
    }
  }

  .js-hide-logo{
    @apply opacity-0;
  }

  .ap-home{
      .ap-nav, header{
        @apply bg-red
      }
      .ap-nav{
          @apply text-yellow;
      }
      .--dash::before{
          @apply bg-yellow;
      }
      .--logo{
        background: url("/assets/images/splashpage-graphic-fr.svg");
        @apply sm:w-full w-80 h-80 bg-contain bg-no-repeat bg-center m-auto sm:mt-40 mt-8 sm:mt-32;
      }
      .--shop-link{
          &:hover,
          &:active{
              @apply bg-yellow text-red;
              transition: all .2s ease-out;
          }
      }
      .js-hide-gallery-link{
          @apply opacity-0;
      }
      .ap-gallery{
          @apply sm:absolute sm:pb-20 sm:px-4 sm:inset-x-0 pb-4 sm:pt-0 pt-10;
          @media screen and (min-width: 640px){              
              padding-top: 100px; 
              margin-top: -100px;
              top: calc(100vh - 170px);
            }
          .--images{
            @apply mt-10;
           @include masonry-grid(2)
          }
      }
  }

  .ap-shop{
    .ap-nav, header{
      @apply bg-yellow
    }
    .ap-nav{
        @apply text-orange;
    }
    .--dash::before{
        @apply bg-orange;
    }
}

.ap-creators{
    .ap-nav, header{
      @apply bg-green
    }
    .ap-nav{
        @apply text-purple;
    }
    .--dash::before{
        @apply bg-purple;
    }
}

.ap-sur-mesure{
    .ap-nav, header{
      @apply bg-purple
    }
    .ap-nav{
        @apply text-green;
    }
    .--dash::before{
        @apply bg-green;
    }
}

.ap-contact{
    .ap-nav, header{
      @apply bg-yellow
    }
    .ap-nav{
        @apply text-purple;
    }
    .--dash::before{
        @apply bg-purple;
    }
}
  
@tailwind utilities;